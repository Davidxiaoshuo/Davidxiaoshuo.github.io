<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="author" content="David硕"><meta name="subtitle" content="write readable code"><meta name="description" content="在这个薄情的世界，深情地活着"><title>Swift 总结之关键字 | David硕</title><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/style.css"><script src="/js/script.js"></script><script src="/js/tocbot.min.js"></script></head><body><div class="wrapper"><header><nav class="navbar"><div class="container"><div class="navbar-header header-logo"><a href="/">David硕&#39;s Blog</a></div><div class="menu navbar-right"><a class="menu-item" href="/archives">Posts</a> <a class="menu-item" href="/category">Categories</a> <a class="menu-item" href="/tag">Tags</a> <a class="menu-item" href="/about">About</a> <input id="switch_default" type="checkbox" class="switch_default"> <label for="switch_default" class="toggleBtn"></label></div></div></nav><nav class="navbar-mobile" id="nav-mobile"><div class="container"><div class="navbar-header"><div><a href="/">David硕&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a></div><div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div></div><div class="menu" id="mobile-menu"><a class="menu-item" href="/archives">Posts</a> <a class="menu-item" href="/category">Categories</a> <a class="menu-item" href="/tag">Tags</a> <a class="menu-item" href="/about">About</a></div></div></nav></header><script>var mobileBtn=function(){var e=document.getElementsByClassName("menu-toggle")[0],t=document.getElementById("mobile-menu");e.classList.contains("active")?(e.classList.remove("active"),t.classList.remove("active")):(e.classList.add("active"),t.classList.add("active"))}</script><div class="main"><div class="container"><div class="post-toc"><div class="tocbot-list"></div><div class="tocbot-list-menu"><a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a> <a onclick="go_top()">Back to top</a> <a onclick="go_bottom()">Go to bottom</a></div></div><script>function expand_toc(){var o=document.querySelector(".tocbot-toc-expand");tocbot.init({tocSelector:".tocbot-list",contentSelector:".post-content",headingSelector:"h1, h2, h3, h4, h5",collapseDepth:6,orderedList:!1,scrollSmooth:!0}),o.setAttribute("onclick","collapse_toc()"),o.innerHTML="Collapse all"}function collapse_toc(){var o=document.querySelector(".tocbot-toc-expand");tocbot.init({tocSelector:".tocbot-list",contentSelector:".post-content",headingSelector:"h1, h2, h3, h4, h5",collapseDepth:1,orderedList:!1,scrollSmooth:!0}),o.setAttribute("onclick","expand_toc()"),o.innerHTML="Expand all"}function go_top(){window.scrollTo(0,0)}function go_bottom(){window.scrollTo(0,document.body.scrollHeight)}document.ready(function(){tocbot.init({tocSelector:".tocbot-list",contentSelector:".post-content",headingSelector:"h1, h2, h3, h4, h5",collapseDepth:1,orderedList:!1,scrollSmooth:!0})})</script><article class="post-wrap"><header class="post-header"><h1 class="post-title">Swift 总结之关键字</h1><div class="post-meta">Author: <a itemprop="author" rel="author" href="/">David硕</a> <span class="post-time">Date: <a href="#">六月 16, 2021&nbsp;&nbsp;16:31:25</a> </span><span class="post-category">Category: <a href="/categories/iOS/">iOS</a></span></div></header><div class="post-content"><h3 id="声明式关键字"><a class="markdownIt-Anchor" href="#声明式关键字"></a> 声明式关键字</h3><h5 id="keyword-class"><a class="markdownIt-Anchor" href="#keyword-class"></a> Keyword： <code>class</code></h5><p>Description： Swift 语言中一种构造体，它具有以下特性：</p><ul><li>一个类允许另一个类进行继承，形成父子关系。</li><li>支持类型转换「type-casting」，允许在运行时，检查 &amp; 指定一个类的实际类型。</li><li>支持实现协议「protocol」。</li><li>支持 <code>deinit</code> 析构函数，并且在可以释放所有资源。</li><li>支持引用计数，允许多个引用指向同一个实例。</li><li>不支持默认成员初始化构造器「memberwise initializer」。</li><li>属于引用类型，存储在堆内存中</li></ul><h5 id="keyword-struct"><a class="markdownIt-Anchor" href="#keyword-struct"></a> Keyword： <code>struct</code></h5><p>Description：与 class 一样，也是 Swift 语言中一个重要的构造体，它具有以下特性：</p><ul><li>支持实现协议</li><li>支持默认成员初始化构造器「memberwise initializer」。</li><li>不支持类型转换「type-casting」</li><li>不支持 <code>deinit</code>析构函数</li><li>内部方法修改属性时，需要在方法上添加 <code>mutating</code> 关键字</li><li>属于值类型，存储在栈内存中</li></ul><h5 id="keywordenum"><a class="markdownIt-Anchor" href="#keywordenum"></a> Keyword：<code>enum</code></h5><p>Description：Swift 中的一种数据类型，它是一组有共同特性的数据的集合。它具有以下特性：</p><ul><li>支持实现协议</li><li>支持初始化方法「构造方法」</li><li>内部方法修改属性时，需要在方法上添加 <code>mutating</code> 关键字</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Barcode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> upc(<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> qrCode(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordprotocol"><a class="markdownIt-Anchor" href="#keywordprotocol"></a> Keyword：<code>protocol</code></h5><p>Description：协议定义了适合特定任务或功能的方法、属性。然后，类、结构或枚举可以采用该协议，以提供这些要求的实际实现。任何满足协议要求的类型都被称为符合该协议。除了指定符合类型必须实现的要求之外，您还可以扩展协议以实现其中一些要求或实现符合类型可以利用的附加功能。<a href="https://docs.swift.org/swift-book/LanguageGuide/Protocols.html" target="_blank" rel="noopener">详见</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</span><br><span class="line">    <span class="comment">// protocol definition goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keyword-extension"><a class="markdownIt-Anchor" href="#keyword-extension"></a> Keyword： <code>extension</code></h5><p>Description：向现有类、结构、枚举或协议类型添加新功能。这包括扩展您无法访问原始源代码的类型的能力（称为追溯建模）。扩展类似于 Objective-C 中的类别。 （与 Objective-C 类别不同，Swift 扩展没有名称。）<a href="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html" target="_blank" rel="noopener">详见</a></p><p>在 swift 中 extension 有以下具体能力：</p><ul><li>添加计算实例属性或计算类型属性</li><li>定义实例方法和类型方法</li><li>提供新的构造函数</li><li>定义下标</li><li>定义和使用新的嵌套类型</li><li>实现现有需要实现的协议</li></ul><h5 id="keywordinit"><a class="markdownIt-Anchor" href="#keywordinit"></a> Keyword：<code>init</code></h5><p>Description: class, struct, enum 的构造方法。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Gender</span>: <span class="title">RawRepresentable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">RawValue</span> = <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">case</span> male</span><br><span class="line">    <span class="keyword">case</span> female</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> rawValue: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .male: <span class="keyword">return</span> <span class="string">"male"</span></span><br><span class="line">        <span class="keyword">case</span> .female: <span class="keyword">return</span> <span class="string">"female"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>?(rawValue: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span> rawValue &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"male"</span>: <span class="keyword">self</span> = .male</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"female"</span>: <span class="keyword">self</span> = .female</span><br><span class="line">        <span class="keyword">default</span>: <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ClassInfo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> grade: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> classNum: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> gender: <span class="type">Gender</span></span><br><span class="line">    <span class="keyword">var</span> classInfo: <span class="type">ClassInfo</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, gender: <span class="type">Gender</span>, classInfo: <span class="type">ClassInfo</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">        <span class="keyword">self</span>.gender = gender</span><br><span class="line">        <span class="keyword">self</span>.classInfo = classInfo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keyword-deinit"><a class="markdownIt-Anchor" href="#keyword-deinit"></a> Keyword： <code>deinit</code></h5><p>Description：class 的析构函数，每个类只允许有一个析构函数。析构函数在类实例释放前自动调用，不允许手动调用。超类的析构器由子类继承，在子类析构函数调用结束时，自动调用父类析构函数。 父类的析构器总会被调用，即使子类没有实现析构函数。实际开发中，我们可以通过 deinit 来观察类实例是否被释放。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">deinit</span> &#123;</span><br><span class="line">  <span class="comment">// perform the deinitialization</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordconvenience"><a class="markdownIt-Anchor" href="#keywordconvenience"></a> Keyword：<code>convenience</code></h5><p>Description: convenience init 是类中次要的，辅助型的构造器，可以调用便利构造来调用同一个类中的指定的构造器，并且为其提供默认值，</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">init</span>(age:<span class="type">Int</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.age = age;</span><br><span class="line">        <span class="keyword">self</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(age: <span class="type">Int</span>, firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(age:age, name:firstName+lastName);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(age: <span class="type">Int</span>, firstName: <span class="type">String</span>, lastName: <span class="type">String</span>, height: <span class="type">CGFloat</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(age: age, firstName: firstName, lastName: lastName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span>: <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> address: <span class="type">String</span></span><br><span class="line">    <span class="keyword">init</span>(age: <span class="type">Int</span>, name: <span class="type">String</span>, address: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.address = address;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(age: age, name: name);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(age: <span class="type">Int</span>, firstName: <span class="type">String</span>, lastName: <span class="type">String</span>, address: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(age: age,name: firstName + lastName, address: address);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordrequired"><a class="markdownIt-Anchor" href="#keywordrequired"></a> Keyword：<code>required</code></h5><p>Description: 在类的构造器前添加 required 修饰符表明所有该类的子类都必须实现该构造器</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> str: <span class="type">String</span></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(str: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.str = str</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeSubclass</span>: <span class="title">SomeClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(str: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(str: str)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(i: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(str: <span class="type">String</span>(i))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="type">SomeSubclass</span>(str:<span class="string">"Hello Swift"</span>)</span><br></pre></td></tr></table></figure><h5 id="keywordimport"><a class="markdownIt-Anchor" href="#keywordimport"></a> Keyword：<code>import</code></h5><p>Description: 包导入。 <a href="https://swift.gg/2019/09/23/swift-import/" target="_blank" rel="noopener">详见</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &lt;#module#&gt;</span><br><span class="line"><span class="keyword">import</span> &lt;#kind#&gt; &lt;#module.symbol#&gt;</span><br><span class="line"><span class="keyword">import</span> &lt;#module.submodule#&gt;</span><br></pre></td></tr></table></figure><h5 id="keyword-typealias"><a class="markdownIt-Anchor" href="#keyword-typealias"></a> Keyword： <code>typealias</code></h5><p>Description：<code>typealias</code> 是特定类型的别名。换句话说，类型别名是在你的代码库里插入现有类型的另一个名称。<a href="https://swift.gg/2020/04/11/2019-05-15-the-usefulness-of-typealiases/" target="_blank" rel="noopener">详见</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">Money</span> = <span class="type">Int</span></span><br></pre></td></tr></table></figure><h5 id="keyword-associatedtype"><a class="markdownIt-Anchor" href="#keyword-associatedtype"></a> Keyword: <code>associatedtype</code></h5><p>Description: 关联类型定义。在协议中，定义一个类型的占位符名称。直到协议被实现，该占位符才会被指定具体的类型。<a href="https://docs.swift.org/swift-book/LanguageGuide/Generics.html#ID189" target="_blank" rel="noopener">详见</a></p><h5 id="keywordlet"><a class="markdownIt-Anchor" href="#keywordlet"></a> Keyword：<code>let</code></h5><p>Description：定义一个常量。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> constantString = <span class="string">"hello world!"</span></span><br></pre></td></tr></table></figure><h5 id="keywordvar"><a class="markdownIt-Anchor" href="#keywordvar"></a> Keyword：<code>var</code></h5><p>Description: 定义一个变量。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> variableString = <span class="string">"hello my world!"</span></span><br><span class="line">variableString = <span class="string">"hello your world!"</span></span><br></pre></td></tr></table></figure><h5 id="keyword-func"><a class="markdownIt-Anchor" href="#keyword-func"></a> Keyword： <code>func</code></h5><p>Description：方法定义。<a href="https://docs.swift.org/swift-book/LanguageGuide/Functions.html#ID159" target="_blank" rel="noopener">详见</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span><span class="params">(person: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> greeting = <span class="string">"Hello, "</span> + person + <span class="string">"!"</span></span><br><span class="line">    <span class="keyword">return</span> greeting</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordinout"><a class="markdownIt-Anchor" href="#keywordinout"></a> Keyword：<code>inout</code></h5><p>Description: <code>inout</code>是按值传递，然后再写回原变量，而不是按引用传递。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">inc</span><span class="params">(<span class="keyword">inout</span> i: Int)</span></span> &#123;</span><br><span class="line">    ++i</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span></span><br><span class="line">inc(&amp;x)</span><br><span class="line"><span class="built_in">print</span>(x) <span class="comment">// 输出结果：“1”</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">inc</span><span class="params">(<span class="keyword">inout</span> i: Int)</span></span> -&gt; () -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; ++i &#125;  <span class="comment">// 闭包中截获inout参数i</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> f = inc(&amp;x)</span><br><span class="line"><span class="built_in">print</span>(f()) <span class="comment">// 输出结果：“1”</span></span><br><span class="line"><span class="built_in">print</span>(x) <span class="comment">// 输出结果：“0”。</span></span><br></pre></td></tr></table></figure><h5 id="keywordoverride"><a class="markdownIt-Anchor" href="#keywordoverride"></a> Keyword：<code>override</code></h5><p>Description: 属性、方法重写需要用 <code>override</code>修饰。 属性重写<a href="../swift_override_property/">参考</a></p><p>Keyword: <code>final</code></p><p>Description：可以在class、func和var前修饰。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">method1</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//权限验证（必须执行）</span></span><br><span class="line">        <span class="comment">//.....</span></span><br><span class="line">         </span><br><span class="line">        method2()</span><br><span class="line">         </span><br><span class="line">        <span class="comment">//下面是日志记录（必须执行）</span></span><br><span class="line">        <span class="comment">//..........</span></span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">method2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//父类的实现</span></span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> : <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="comment">//只能重写父类的method2方法，不能重写method1方法</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">method2</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//子类的实现</span></span><br><span class="line">        <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keyword-mutating"><a class="markdownIt-Anchor" href="#keyword-mutating"></a> Keyword: <code>mutating</code></h5><p>Description: <a href="#Keyword%EF%BC%9A">见</a></p><h5 id="keywordnonmutating"><a class="markdownIt-Anchor" href="#keywordnonmutating"></a> Keyword：<code>nonmutating</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Settings</span> </span>&#123;</span><br><span class="line">    <span class="keyword">subscript</span>(key: <span class="type">String</span>) -&gt; <span class="type">AnyObject?</span> &#123; <span class="keyword">get</span> <span class="keyword">nonmutating</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> b: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span>  <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">nonmutating</span> <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"\(newValue)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 由于这里 t 是常量，如果 setter 中不是使用 nonmutating，编译器会报错</span></span><br><span class="line"><span class="comment">/// Cannot assign to property: 't' is a 'let' constant</span></span><br><span class="line"><span class="keyword">let</span> t = <span class="type">Test2</span>()</span><br><span class="line">t.b = <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(t.b)</span><br></pre></td></tr></table></figure><h5 id="keyword-dynamic"><a class="markdownIt-Anchor" href="#keyword-dynamic"></a> Keyword： <code>dynamic</code></h5><p>Description: 指明编译器不会对类成员或者函数的方法进行内联或虚拟化。这意味着对这个成员的访问是使用 Objective-C 运行时进行动态派发的（代替静态调用）。 <a href="https://juejin.cn/post/6844903665745002503" target="_blank" rel="noopener">参考1</a>，<a href="https://tech.meituan.com/2018/11/01/swift-compile-performance-optimization.html" target="_blank" rel="noopener">参考2</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="comment">//隐式指明含有 "objc" 属性</span></span><br><span class="line">    <span class="comment">//这对依赖于 Objc-C 黑魔法的库或者框架非常有用</span></span><br><span class="line">    <span class="comment">//比如 KVO、KVC、Swizzling</span></span><br><span class="line">    <span class="keyword">dynamic</span> <span class="keyword">var</span> name:<span class="type">String?</span>  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="属性声明相关的关键字"><a class="markdownIt-Anchor" href="#属性声明相关的关键字"></a> 属性声明相关的关键字</h3><h5 id="keyword-lazyset-get-willset-didset"><a class="markdownIt-Anchor" href="#keyword-lazyset-get-willset-didset"></a> Keyword： <code>lazy</code>，<code>set</code>， <code>get</code>, <code>willSet</code>, <code>didSet</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 懒加载属性</span></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> courses: [<span class="type">String</span>] = &#123; ()-&gt;[<span class="type">String</span>] <span class="keyword">in</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"懒加载属性"</span>)</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">"java"</span>, <span class="string">"html"</span>, <span class="string">"swift"</span>]</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算属性</span></span><br><span class="line"><span class="keyword">var</span> averageScore: <span class="type">Double</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 访问（获取）调用get</span></span><br><span class="line">  <span class="keyword">get</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (chineseScore + englishScore) / <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置值的时候</span></span><br><span class="line">  <span class="keyword">set</span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"set\(newValue)"</span>)</span><br><span class="line">    <span class="comment">// 千万不要在这里设置值 会死循环  外部参数起名字 newvalue</span></span><br><span class="line">    <span class="comment">// self.averageScore = newValue</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 属性观察器-有的属性很重要，我希望关注每一次赋值的变化。</span></span><br><span class="line"><span class="comment">// 验证 willSet 和 didSet 作用</span></span><br><span class="line"><span class="comment">// 内置变量：newValue oldValue</span></span><br><span class="line"><span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"tt"</span> &#123;</span><br><span class="line">        </span><br><span class="line">  <span class="comment">// newValue</span></span><br><span class="line">  <span class="keyword">willSet</span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"父类 willSet 被调用, newValue\(newValue)"</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// oldValue</span></span><br><span class="line">  <span class="keyword">didSet</span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"父类 didSet 被调用, oldValue\(oldValue)"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="权限控制关键字"><a class="markdownIt-Anchor" href="#权限控制关键字"></a> 权限控制关键字</h3><h5 id="keywordopen"><a class="markdownIt-Anchor" href="#keywordopen"></a> Keyword：<code>open</code></h5><p>Description：公开权限，最高权限级别。可以被其他 Module 访问、继承、复写。只能用于类和类的成员</p><p><em><strong>Note：由于其具有复写的特性，而 <code>let「常量」</code>属性隐式为 <code>final</code>, 不可复写，所以 open 不能应用到 let 属性上。</strong></em></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> name: <span class="type">String?</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">talking</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keyword-public"><a class="markdownIt-Anchor" href="#keyword-public"></a> Keyword: <code>public</code></h5><p>Description：公有访问权限, 类或者类的公有属性或者公有方法可以从文件或者模块的任何地方进行访问. 一个<code>App</code>就是一个模块, 一个第三方<code>API</code>、第三方框架等都是一个完整的模块, 这些模块如果要对外留有访问的属性或者方法, 就应该使用<code>public</code>的访问权限. <code>public</code>的权限在<code>Swift 3.0</code>后无法在其它模块被复写方法/属性或被继承.</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> name: <span class="type">String?</span></span><br><span class="line">  	<span class="keyword">public</span> <span class="keyword">let</span> uid: <span class="type">String</span> = <span class="type">UUID</span>().uuidString</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">talking</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keyword-internal"><a class="markdownIt-Anchor" href="#keyword-internal"></a> Keyword: <code>internal</code></h5><p>Description: 在模块内部可以访问, 超出模块内部就不可被访问了. 在<code>Swift</code>中属隐式权限，如果不特别设置权限级别，默认即为 <code>internal</code></p><h5 id="keywordfileprivate"><a class="markdownIt-Anchor" href="#keywordfileprivate"></a> Keyword：<code>fileprivate</code></h5><p>Description：文件私有访问权限, 被<code>fileprivate</code>修饰的类或者类的属性或方法可以在同一个物理文件中访问. 如果超出该物理文件, 那么有这<code>fileprivate</code>访问权限的类、属性和方法就不能被访问了.</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassModel</span> </span>&#123;</span><br><span class="line">     </span><br><span class="line">  <span class="keyword">init</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> student = <span class="type">Student</span>()</span><br><span class="line">    <span class="keyword">let</span> studentName = student.name <span class="comment">//只有此文件内可访问</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fileprivate</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">fileprivate</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">""</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> age: <span class="type">Int</span> = <span class="number">12</span> <span class="comment">// 外部不可访问</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordprivate"><a class="markdownIt-Anchor" href="#keywordprivate"></a> Keyword：<code>private</code></h5><p>Description：私有访问权限, 被<code>private</code>修饰的类或者类的属性或方法可以在同一个物理文件中的同一个类型(包含<code>extension</code>)访问. 如果超出物理文件或不属于同一类型, 那么有着<code>private</code>访问权限的属性和方法就不能被访问.</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> uid = <span class="type">UUID</span>().uuidString</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> name: <span class="type">String?</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">taking</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="类型范围作用域关键字"><a class="markdownIt-Anchor" href="#类型范围作用域关键字"></a> 类型范围作用域关键字</h3><h5 id="keyword-static"><a class="markdownIt-Anchor" href="#keyword-static"></a> Keyword: <code>static</code></h5><p>Description: 用来修饰类型「class / struct / enum」的属性或方法。<code>static</code>具有以下特性：</p><ul><li><code>static</code>可以修饰计算属性、存储属性、类型方法。</li><li>在 <code>protocol</code>中，如果需要，要使用 <code>static</code> 进行修饰。</li><li><code>static</code> 修饰的属性/方法具有隐式的 <code>final</code> 特性，因此不能够继承。</li><li>静态属性具有实例内存共享特性</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Double</span>  </span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Double</span>  </span><br><span class="line">    <span class="comment">// 存储属性  </span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> zero = <span class="type">Point</span>(x: <span class="number">0</span>, y: <span class="number">0</span>)  </span><br><span class="line">    <span class="comment">// 计算属性  </span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> ones: [<span class="type">Point</span>] &#123;  </span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="type">Point</span>(x: <span class="number">1</span>, y: <span class="number">1</span>),  </span><br><span class="line">            <span class="type">Point</span>(x: -<span class="number">1</span>, y: <span class="number">1</span>),  </span><br><span class="line">            <span class="type">Point</span>(x: <span class="number">1</span>, y: -<span class="number">1</span>),  </span><br><span class="line">            <span class="type">Point</span>(x: -<span class="number">1</span>, y: -<span class="number">1</span>)</span><br><span class="line">        ]  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// 类型方法  </span></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(p1: Point, p2: Point)</span></span> -&gt; <span class="type">Point</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="type">Point</span>(x: p1.x + p2.x, y: p1.y + p2.y)  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordclass"><a class="markdownIt-Anchor" href="#keywordclass"></a> Keyword：<code>class</code></h5><p>Description：只能用来修饰类方法，计算属性。</p><ul><li>在 <code>protocol</code> 中，不可以使用 <code>class</code> 来修饰。</li><li><code>class</code> 修饰的类方法，可以继承。</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">    <span class="comment">//修饰计算属性</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">age</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 修饰类方法</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">testFunc</span>() </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="逻辑运算关键字"><a class="markdownIt-Anchor" href="#逻辑运算关键字"></a> 逻辑运算关键字</h3><h5 id="keyword-ifelse"><a class="markdownIt-Anchor" href="#keyword-ifelse"></a> Keyword： <code>if</code>，<code>else</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> number &gt; <span class="number">1</span> &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"greating many times"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> number &lt; <span class="number">1</span> &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"not greating"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"greating one times"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordfor"><a class="markdownIt-Anchor" href="#keywordfor"></a> Keyword：<code>for</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers: [<span class="type">Int</span>] = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">0</span>..&lt;numbers.<span class="built_in">count</span> &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"number = \(numbers[index])"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keyword-switch-case-defaultfallthrough"><a class="markdownIt-Anchor" href="#keyword-switch-case-defaultfallthrough"></a> Keyword: <code>switch</code>， <code>case</code>， <code>default</code>，<code>fallthrough</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">GenderValue</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">  <span class="keyword">case</span> male</span><br><span class="line">  <span class="keyword">case</span> female</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> gender &#123;</span><br><span class="line">  <span class="keyword">case</span> .male:</span><br><span class="line">  	<span class="built_in">print</span>(<span class="string">"The gender value is \(.male.rawValue)"</span>)</span><br><span class="line">  <span class="keyword">case</span> .female:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"The gender value is \(.female.rawValue)"</span>)</span><br><span class="line">  <span class="keyword">default</span>: <span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> index = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> index &#123;</span><br><span class="line">   <span class="keyword">case</span> <span class="number">100</span>  :</span><br><span class="line">      <span class="built_in">print</span>( <span class="string">"index 的值为 100"</span>)</span><br><span class="line">      <span class="keyword">fallthrough</span></span><br><span class="line">   <span class="keyword">case</span> <span class="number">10</span>,<span class="number">15</span>  :</span><br><span class="line">      <span class="built_in">print</span>( <span class="string">"index 的值为 10 或 15"</span>)</span><br><span class="line">      <span class="keyword">fallthrough</span></span><br><span class="line">   <span class="keyword">case</span> <span class="number">5</span>  :</span><br><span class="line">      <span class="built_in">print</span>( <span class="string">"index 的值为 5"</span>)</span><br><span class="line">   <span class="keyword">default</span> :</span><br><span class="line">      <span class="built_in">print</span>( <span class="string">"默认 case"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index 的值为 10 或 15</span></span><br><span class="line"><span class="comment">// index 的值为 5</span></span><br></pre></td></tr></table></figure><h5 id="keyword-repeatwhile"><a class="markdownIt-Anchor" href="#keyword-repeatwhile"></a> Keyword: <code>repeat</code>，<code>while</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 在使用循环的判断条件之前，先执行一次循环中的代码。</span></span><br><span class="line"><span class="keyword">repeat</span> &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125; <span class="keyword">while</span> n &gt; <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> n &lt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="comment">// do something </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordwhere"><a class="markdownIt-Anchor" href="#keywordwhere"></a> Keyword：<code>where</code></h5><p>Description：可以用来设置约束条件、限制类型，让代码更加简洁、易读。 <a href="https://www.hangge.com/blog/cache/detail_1826.html" target="_blank" rel="noopener">参考</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// switch语句中使用</span></span><br><span class="line">scores.forEach &#123;</span><br><span class="line">    <span class="keyword">switch</span> $<span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x&gt;=<span class="number">60</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"及格"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"不及格"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/// for语句中使用</span></span><br><span class="line"><span class="keyword">for</span> score <span class="keyword">in</span> scores <span class="keyword">where</span> score&gt;=<span class="number">60</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"这个是及格的：\(score)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 在 do catch 里面使用</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ExceptionError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> httpCode(<span class="type">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">throwError</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="type">ExceptionError</span>.httpCode(<span class="number">500</span>)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="keyword">try</span> throwError()</span><br><span class="line">&#125;<span class="keyword">catch</span> <span class="type">ExceptionError</span>.httpCode(<span class="keyword">let</span> httpCode) <span class="keyword">where</span> httpCode &gt;= <span class="number">500</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"server error"</span>)</span><br><span class="line">&#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"other error"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 与协议结合</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">aProtocol</span></span>&#123;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//只给遵守myProtocol协议的UIView添加了拓展</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">aProtocol</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">getString</span><span class="params">()</span></span> -&gt; <span class="type">String</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"string"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 可以在 associatedtype 后面声明的类型后追加 where 约束语句</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Element</span> <span class="keyword">where</span> <span class="type">Self</span>.<span class="type">Element</span> == <span class="type">Self</span>.<span class="type">Iterator</span>.<span class="type">Element</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// Sequence，Collection 同样新增了 where 语句约束</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Sequence</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Numeric</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sum: <span class="type">Element</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> result: <span class="type">Element</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> item  <span class="keyword">in</span> <span class="keyword">self</span> &#123;</span><br><span class="line">            result += item</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Collection</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">prefieIsEqualSuffix</span><span class="params">(<span class="number">_</span> n: Int)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> head = <span class="keyword">prefix</span>(n)</span><br><span class="line">        <span class="keyword">let</span> suff = suffix(n).reversed()</span><br><span class="line">        <span class="keyword">return</span> head.elementsEqual(suff)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordguard"><a class="markdownIt-Anchor" href="#keywordguard"></a> Keyword：<code>guard</code></h5><p>Description： <a href="https://swift.gg/2016/02/14/swift-guard-radix/" target="_blank" rel="noopener">详见</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateWatchApplicationContext</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> session = <span class="type">WCSession</span>.defaultSession()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> session.watchAppInstalled <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> context = [<span class="string">"token"</span>: api.token]</span><br><span class="line">        <span class="keyword">try</span> session.updateApplicationContext(context)</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordreturn"><a class="markdownIt-Anchor" href="#keywordreturn"></a> Keyword：<code>return</code></h5><p>Description：方法返回值</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span><span class="params">(person: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> greeting = <span class="string">"Hello, "</span> + person + <span class="string">"!"</span></span><br><span class="line">    <span class="keyword">return</span> greeting</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keywordbreak"><a class="markdownIt-Anchor" href="#keywordbreak"></a> Keyword：<code>break</code></h5><p>Description：立刻结束整个控制流的执行。如果是嵌套循环（即一个循环内嵌套另一个循环），break 语句会停止执行最内层的循环，然后开始执行该块之后的下一行代码。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Cocoa</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> index = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">repeat</span>&#123;</span><br><span class="line">    index = index + <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>( index == <span class="number">15</span> )&#123;  <span class="comment">// index 等于 15 时终止循环</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>( <span class="string">"index 的值为 \(index)"</span>)</span><br><span class="line">&#125;<span class="keyword">while</span> index &lt; <span class="number">20</span></span><br></pre></td></tr></table></figure><h5 id="keyword-continue"><a class="markdownIt-Anchor" href="#keyword-continue"></a> Keyword: <code>continue</code></h5><p>Description：一个循环体立刻停止本次循环迭代，重新开始下次循环迭代。对于 <strong>for</strong> 循环，<strong>continue</strong> 语句执行后自增语句仍然会执行。对于 <strong>while</strong> 和 <strong>do…while</strong> 循环，<strong>continue</strong> 语句重新执行条件判断语句。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Cocoa</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> index = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">repeat</span>&#123;</span><br><span class="line">   index = index + <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">   <span class="keyword">if</span>( index == <span class="number">15</span> )&#123; <span class="comment">// index 等于 15 时跳过</span></span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">print</span>( <span class="string">"index 的值为 \(index)"</span>)</span><br><span class="line">&#125;<span class="keyword">while</span> index &lt; <span class="number">20</span></span><br></pre></td></tr></table></figure><h5 id="keywordin"><a class="markdownIt-Anchor" href="#keywordin"></a> Keyword：<code>in</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// 闭包中</span></span><br><span class="line">&#123;</span><br><span class="line">    (s:<span class="type">String</span>)-&gt;() <span class="keyword">in</span></span><br><span class="line">    <span class="comment">// body</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// for-in 循环</span></span><br><span class="line"><span class="keyword">import</span> Cocoa</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span>...<span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\(index) 乘于 5 为：\(index * 5)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="keyword-defer"><a class="markdownIt-Anchor" href="#keyword-defer"></a> Keyword: <code>defer</code></h5><p>Description: <a href="https://onevcat.com/2018/11/defer/" target="_blank" rel="noopener">详见</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">operateOnFile</span><span class="params">(descriptor: Int32)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> fileHandle = <span class="type">FileHandle</span>(fileDescriptor: descriptor)</span><br><span class="line">    <span class="keyword">defer</span> &#123; fileHandle.closeFile() &#125;</span><br><span class="line">    <span class="keyword">let</span> data = fileHandle.readDataToEndOfFile()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="comment">/* onlyRead */</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> shouldWrite = <span class="comment">/* 是否需要写文件 */</span></span><br><span class="line">    <span class="keyword">guard</span> shouldWrite <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    fileHandle.seekToEndOfFile()</span><br><span class="line">    fileHandle.write(someData)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="异常处理关键字"><a class="markdownIt-Anchor" href="#异常处理关键字"></a> 异常处理关键字</h3><h5 id="keyworddotry-catchthrowthrowsrethrows"><a class="markdownIt-Anchor" href="#keyworddotry-catchthrowthrowsrethrows"></a> Keyword：<code>do</code>，<code>try</code>, <code>catch</code>，<code>throw</code>，<code>throws</code>，<code>rethrows</code></h5><p>Description: <a href="https://docs.swift.org/swift-book/LanguageGuide/ErrorHandling.html" target="_blank" rel="noopener">参考1</a>，<a href="https://swifter.tips/error-handle/" target="_blank" rel="noopener">参考2</a></p><h3 id="类型相关的关键字"><a class="markdownIt-Anchor" href="#类型相关的关键字"></a> 类型相关的关键字</h3><h5 id="keywordanyasisnil-superself-self-type"><a class="markdownIt-Anchor" href="#keywordanyasisnil-superself-self-type"></a> Keyword：<code>Any</code>,<code>as</code>，<code>is</code>，<code>nil</code>， <code>super</code>，<code>self</code>， <code>Self</code>, <code>Type</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// Any：用于表示任意类型的实例，包括函数类型。</span></span><br><span class="line"><span class="keyword">var</span> anything = [<span class="type">Any</span>]()</span><br><span class="line">anything.append(<span class="string">"Any Swift type can be added"</span>)  </span><br><span class="line">anything.append(<span class="number">0</span>)  </span><br><span class="line">anything.append(&#123;(foo: <span class="type">String</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span> <span class="string">"Passed in (foo)"</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/// as：类型转换运算符，用于尝试将值转成其它类型。</span></span><br><span class="line"><span class="keyword">let</span> intInstance = anything[<span class="number">1</span>] <span class="keyword">as</span>? <span class="type">Int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// is：类型检查运算符，用于确定实例是否为某个子类类型。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;&#125;  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> : <span class="title">Person</span> </span>&#123;&#125;  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nurse</span> : <span class="title">Person</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people = [<span class="type">Programmer</span>(), <span class="type">Nurse</span>()]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> aPerson <span class="keyword">in</span> people  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">if</span> aPerson <span class="keyword">is</span> <span class="type">Programmer</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"This person is a dev"</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> aPerson <span class="keyword">is</span> <span class="type">Nurse</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"This person is a nurse"</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// nil：在 Swift 中表示任意类型的无状态值。与 Objective-C 中的 nil 不同，Objective-C 中的 nil 表示指向不存在对象的指针。</span></span><br><span class="line"><span class="comment">//任何 Swift 类型或实例可以为 nil</span></span><br><span class="line"><span class="keyword">var</span> statelessPerson:<span class="type">Person?</span> = <span class="literal">nil</span>  </span><br><span class="line"><span class="keyword">var</span> statelessPlace:<span class="type">Place?</span> = <span class="literal">nil</span>  </span><br><span class="line"><span class="keyword">var</span> statelessInt:<span class="type">Int?</span> = <span class="literal">nil</span>  </span><br><span class="line"><span class="keyword">var</span> statelessString:<span class="type">String?</span> = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// super：在子类中，暴露父类的方法、属性、下标。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printName</span><span class="params">()</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Printing a name. "</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> : <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">printName</span><span class="params">()</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">super</span>.printName()  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Hello World!"</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aDev = <span class="type">Programmer</span>()  </span><br><span class="line">aDev.printName() <span class="comment">//打印 Printing a name. Hello World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// self：任何类型的实例都拥有的隐式属性，等同于实例本身。此外还可以用于区分函数参数和成员属性名称相同的情况。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printSelf</span><span class="params">()</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"This is me: (self)"</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aPerson = <span class="type">Person</span>()  </span><br><span class="line">aPerson.printSelf() <span class="comment">//打印 "This is me: Person"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// Self：在协议中，表示遵守当前协议的实体类型。</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Printable</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printTypeTwice</span><span class="params">(otherMe:<span class="keyword">Self</span>)</span></span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Foo</span> : <span class="title">Printable</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printTypeTwice</span><span class="params">(otherMe: Foo)</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"I am me plus (otherMe)"</span>)  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aFoo = <span class="type">Foo</span>()  </span><br><span class="line"><span class="keyword">let</span> anotherFoo = <span class="type">Foo</span>()</span><br><span class="line">aFoo.printTypeTwice(otherMe: anotherFoo) <span class="comment">//打印 I am me plus Foo()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// Type：表示任意类型的类型，包括类类型、结构类型、枚举类型、协议类型。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;&#125;  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> : <span class="title">Person</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aDev:<span class="type">Programmer</span>.<span class="type">Type</span> = <span class="type">Programmer</span>.<span class="keyword">self</span></span><br></pre></td></tr></table></figure><h3 id="自定义运算符相关的关键字"><a class="markdownIt-Anchor" href="#自定义运算符相关的关键字"></a> 自定义运算符相关的关键字</h3><h5 id="keywordleftright-prefix-postfixinfixoperatorassociativity-precedence"><a class="markdownIt-Anchor" href="#keywordleftright-prefix-postfixinfixoperatorassociativity-precedence"></a> Keyword：<code>left</code>，<code>right</code>, <code>prefix</code>， <code>postfix</code>，<code>infix</code>，<code>operator</code>，<code>associativity</code>， <code>precedence</code></h5><p>Description： <a href="https://nshipster.cn/swift-operators/" target="_blank" rel="noopener">参考</a></p><h5 id="keyword-none"><a class="markdownIt-Anchor" href="#keyword-none"></a> Keyword: <code>none</code></h5><p>Description: 一个没有结合性的运算符。不允许这样的运算符相邻出现。</p><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// "&lt;" 是非结合性的运算符</span></span><br><span class="line"><span class="number">1</span> &lt; <span class="number">2</span> &lt; <span class="number">3</span> <span class="comment">//编译失败</span></span><br></pre></td></tr></table></figure><h3 id="内存管理相关的关键字"><a class="markdownIt-Anchor" href="#内存管理相关的关键字"></a> 内存管理相关的关键字</h3><h5 id="keyword-weak-unowned"><a class="markdownIt-Anchor" href="#keyword-weak-unowned"></a> Keyword: <code>weak</code>, <code>unowned</code></h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// unowned：让循环引用中的实例 A 不要强引用实例 B。前提条件是实例 B 的生命周期要长于 A 实例。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="keyword">var</span> occupation:<span class="type">Job?</span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当 Person 实例不存在时，job 也不会存在。job 的生命周期取决于持有它的 Person。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Job</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="keyword">unowned</span> <span class="keyword">let</span> employee:<span class="type">Person</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(with employee:<span class="type">Person</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">self</span>.employee = employee  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// weak：允许循环引用中的实例 A 弱引用实例 B ，而不是强引用。实例 B 的生命周期更短，并会被先释放。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="keyword">var</span> residence:<span class="type">House?</span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> occupant:<span class="type">Person?</span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> me:<span class="type">Person?</span> = <span class="type">Person</span>()  </span><br><span class="line"><span class="keyword">var</span> myHome:<span class="type">House?</span> = <span class="type">House</span>()</span><br><span class="line"></span><br><span class="line">me!.residence = myHome  </span><br><span class="line">myHome!.occupant = me</span><br><span class="line"></span><br><span class="line">me = <span class="literal">nil</span>  </span><br><span class="line">myHome!.occupant <span class="comment">// myHome 等于 nil</span></span><br></pre></td></tr></table></figure><h3 id="以开头的关键字"><a class="markdownIt-Anchor" href="#以开头的关键字"></a> 以#开头的关键字</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// #available：基于平台参数，通过 if，while，guard 语句的条件，在运行时检查 API 的可用性。</span></span><br><span class="line"><span class="keyword">if</span> #available(iOS <span class="number">10</span>, *)  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"iOS 10 APIs are available"</span>)  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// #colorLiteral：在 playground 中使用的字面表达式，用于创建颜色选取器，选取后赋值给变量。</span></span><br><span class="line"><span class="keyword">let</span> aColor = #colorLiteral <span class="comment">//创建颜色选取器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// #column：一种特殊的字面量表达式，用于获取字面量表示式的起始列数。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printInfo</span><span class="params">()</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Some person info - on column (#column)"</span>)</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aPerson = <span class="type">Person</span>()  </span><br><span class="line">aPerson.printInfo() <span class="comment">//Some person info - on column 53</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// #else：条件编译控制语句，用于控制程序在不同条件下执行不同代码。与 #if 语句结合使用。当条件为 true，执行对应代码。当条件为 false，执行另一段代码。</span></span><br><span class="line">#<span class="keyword">if</span> os(iOS)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Compiled for an iOS device"</span>)  </span><br><span class="line">#<span class="keyword">else</span>  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Not on an iOS device"</span>)  </span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line"><span class="comment">/// #elseif：条件编译控制语句，用于控制程序在不同条件下执行代码。与 #if 语句结合使用。当条件为 true，执行对应代码。</span></span><br><span class="line">#<span class="keyword">if</span> os(iOS)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Compiled for an iOS device"</span>)  </span><br><span class="line">#elseif os(macOS)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Compiled on a mac computer"</span>)  </span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line"><span class="comment">/// #endif：条件编译控制语句，用于控制程序在不同条件下执行代码。用于表明条件编译代码的结尾。</span></span><br><span class="line">#<span class="keyword">if</span> os(iOS)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Compiled for an iOS device"</span>)  </span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line"><span class="comment">/// #file：特殊字面量表达式，返回当前代码所在源文件的名称。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printInfo</span><span class="params">()</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Some person info - inside file (#file)"</span>)</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aPerson = <span class="type">Person</span>()  </span><br><span class="line">aPerson.printInfo() <span class="comment">//Some person info - inside file /*代码所在 playground 文件路径*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// #fileReference：playground 字面量语法，用于创建文件选取器，选取并返回 NSURL 实例。</span></span><br><span class="line"><span class="keyword">let</span> fontFilePath = #fileReference <span class="comment">//创建文件选取器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// #function：特殊字面量表达式，返回函数名称。在方法中，返回方法名。在属性的 getter 或者 setter 中，返回属性名。在特殊的成员中，比如 init 或 subscript 中，返回关键字名称。在文件的最顶层时，返回当前所在模块名称。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printInfo</span><span class="params">()</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Some person info - inside function (#function)"</span>)</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aPerson = <span class="type">Person</span>()  </span><br><span class="line">aPerson.printInfo() <span class="comment">//Some person info - inside function printInfo()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// #if：条件编译控制语句，用于控制程序在不同条件下编译代码。通过判断条件，决定是否执行代码。</span></span><br><span class="line">#<span class="keyword">if</span> os(iOS)  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Compiled for an iOS device"</span>)  </span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line"><span class="comment">/// #imageLiteral：playground 字面量语法，创建图片选取器，选择并返回 UIImage 实例。</span></span><br><span class="line"><span class="keyword">let</span> anImage = #imageLiteral <span class="comment">//在 playground 文件中选取图片</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// #line：特殊字面量表达式，用于获取当前代码的行数。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printInfo</span><span class="params">()</span></span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Some person info - on line number (#line)"</span>)</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aPerson = <span class="type">Person</span>()  </span><br><span class="line">aPerson.printInfo() <span class="comment">//Some person info - on line number 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// #selector：用于创建 Objective-C selector 的表达式，可以静态检查方法是否存在，并暴露给 Objective-C。</span></span><br><span class="line"><span class="comment">//静态检查，确保 doAnObjCMethod 方法存在  </span></span><br><span class="line">control.sendAction(#selector(doAnObjCMethod), to: target, forEvent: event)</span><br><span class="line"></span><br><span class="line"><span class="comment">/// #sourceLocation：行控制语句，可以指定与原先完全不同的行数和源文件名。通常在 Swift 诊断、debug 时使用。</span></span><br><span class="line">#sourceLocation(file:<span class="string">"foo.swift"</span>, line:<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 打印新值</span></span><br><span class="line"><span class="built_in">print</span>(#file)  </span><br><span class="line"><span class="built_in">print</span>(#line)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重置行数和文件名</span></span><br><span class="line">#sourceLocation()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(#file)  </span><br><span class="line"><span class="built_in">print</span>(#line)</span><br></pre></td></tr></table></figure></div><section class="post-copyright"><p class="copyright-item"><span>Author:</span> <span>David硕</span></p><p class="copyright-item"><span>Permalink:</span> <span><a href="http://davidxiaoshuo.github.io/iOS/swift_keyword_summery/">http://davidxiaoshuo.github.io/iOS/swift_keyword_summery/</a></span></p><p class="copyright-item"><span>License:</span> <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span></p><p class="copyright-item"><span>Slogan:</span> <span>Write readable code!</span></p></section><section class="post-tags"><div><span>Tag(s):</span> <span class="tag"><a href="/tags/swift/"># swift</a></span></div><div><a href="javascript:window.history.back();">back</a> <span>· </span><a href="/">home</a></div></section><section class="post-nav"><a class="prev" rel="prev" href="/iOS/swift_override_property/">Swift 总结之属性重写 「override」</a> <a class="next" rel="next" href="/audio/ijkplayer_01/">IjkPlayer 从编译集成到简单音频播放器的封装 [Android & iOS] 一</a></section></article></div></div><footer id="footer" class="footer"><div class="copyright"><span>© David硕 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span></div></footer></div></body></html>